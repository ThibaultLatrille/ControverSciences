<% provide(:title, "Mes crÃ©dits") %>
<div id="my-container" class="container-fluid">
  <div class="col-md-10 col-md-offset-1 col-lg-6 col-lg-offset-3">
    <div class="panel panel-default">
      <div class="panel-body">
        <%= t('views.my_items.credits_to_frames') %>      </div>
      <table id="notification-references" class="table table-striped table-hover">
        <thead>
        <tr>
          <th class="col-xs-1 center"> <%= t('views.model.credits') %></th>
          <th class="col-xs-6"> <%= t('views.model.frame') %></th>
          <th class="col-xs-4"> <%= t('views.model.of_timeline') %></th>
          <th class="col-xs-1 center"> <%= t('views.buttons.delete') %></th>
        </tr>
        </thead>

        <tbody class="page">
        <% if !@frame_credits.any? %>
            <tr class="notification-reference">
              <td></td>
              <td> <%= t('views.my_items.no_credits') %></td>
              <td></td>
              <td></td>
            </tr>
        <% else %>
            <% @frame_credits.each do |vote| %>
                <tr class="notification-reference">
                  <td class="center"> <%= vote.value %> </td>
                  <td> <%= link_to t('views.model.your_frame'), frame_path(vote.frame_id) %>
                    <%= t('views.default.by') %> <%= link_to vote.frame_short.user_name, user_path(vote.frame_short.user_id) %>
                  </td>
                  <td> <%= link_to vote.timeline_name.html_safe, timeline_path(vote.timeline_id) %>   </td>
                  <td class="center"> <%= link_to "<span class=\"glyphicon glyphicon-trash\"> </span>".html_safe,
                                                  frame_credit_path(vote.id), method: :delete,
                                                  data:                               {confirm: t('views.default.confirm')} %>  </td>
                </tr>
            <% end %>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-10 col-md-offset-1 col-lg-6 col-lg-offset-3">
    <div class="panel panel-default">
      <div class="panel-body">
        <%= t('views.my_items.credits_to_summaries') %>
      </div>
      <table id="notification-references" class="table table-striped table-hover">
        <thead>
        <tr>
          <th class="col-xs-1 center"> <%= t('views.model.credits') %></th>
          <th class="col-xs-6"> <%= t('views.model.summary') %></th>
          <th class="col-xs-4"> <%= t('views.model.of_timeline') %></th>
          <th class="col-xs-1 center"> <%= t('views.buttons.delete') %></th>
        </tr>
        </thead>

        <tbody class="page">
        <% if !@credits.any? %>
            <tr class="notification-reference">
              <td></td>
              <td> <%= t('views.my_items.no_credits') %></td>
              <td></td>
              <td></td>
            </tr>
        <% else %>
            <% @credits.each do |vote| %>
                <tr class="notification-reference">
                  <td class="center"> <%= vote.value %> </td>
                  <td> <%= link_to t('views.model.your_summary'), summary_path(vote.summary_id) %>
                    <%= t('views.default.by') %> <%= link_to vote.summary_short.user_name, user_path(vote.summary_short.user_id) %>
                  </td>
                  <td><%= link_to vote.timeline_name.html_safe, timeline_path(vote.timeline_id) %>   </td>
                  <td class="center"> <%= link_to "<span class=\"glyphicon glyphicon-trash\"> </span>".html_safe,
                                                  credit_path(vote.id), method: :delete,
                                                  data:                         {confirm: t('views.default.confirm')} %>  </td>
                </tr>
            <% end %>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-10 col-md-offset-1 col-lg-6 col-lg-offset-3">
    <div class="panel panel-default">
      <div class="panel-body">
        <%= t('views.my_items.credits_to_comments') %>
      </div>
      <table id="notification-references" class="table table-striped table-hover">
        <thead>
        <tr>
          <th class="col-xs-1 center"> <%= t('views.model.credits') %></th>
          <th class="col-xs-6"> <%= t('views.model.comment') %></th>
          <th class="col-xs-4"> <%= t('views.model.in_timeline') %></th>
          <th class="col-xs-1 center"> <%= t('views.buttons.delete') %></th>
        </tr>
        </thead>

        <tbody class="page">
        <% if !@votes.any? %>
            <tr class="notification-reference">
              <td></td>
              <td> <%= t('views.my_items.no_credits') %></td>
              <td></td>
              <td></td>
            </tr>
        <% else %>
            <% @votes.each do |vote| %>
                <tr class="notification-reference">
                  <td class="center"> <%= vote.value %> </td>
                  <td> <%= link_to category_hash[vote.reference.category][vote.field],
                                   comment_path(vote.comment_id) %>
                    <%= t('views.default.by') %> <%= link_to vote.comment_short.user_name, user_path(vote.comment_short.user_id) %>
                    <%= t('views.model.of_reference') %>
                    <%= link_to vote.reference_title, reference_path(vote.reference_id) %>
                  </td>
                  <td> <%= link_to vote.timeline_name.html_safe, timeline_path(vote.timeline_id) %>   </td>
                  <td class="center"> <%= link_to "<span class=\"glyphicon glyphicon-trash\"> </span>".html_safe,
                                                  vote_path(vote.id), method: :delete,
                                                  data:                       {confirm: t('views.default.confirm')} %>  </td>
                </tr>
            <% end %>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
